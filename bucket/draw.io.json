{
    "version": "22.1.18",
    "description": "一款专业的绘图工具。Professional diagramming",
    "homepage": "https://www.diagrams.net",
    "license": {
        "identifier": "Apache License 2.0",
        "url": "https://github.com/jgraph/drawio-desktop/blob/dev/LICENSE"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/jgraph/drawio-desktop/releases/download/v22.1.18/draw.io-22.1.18-windows-installer.exe",
            "hash": "cd9a392d59b21eec7cdfd7bdb5e90a394823d9a5cab653016494c71ba2c20b9e",
            "pre_install": [
                ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
                "& \"$dir\\draw.io-$($version)-windows-installer.exe\" /S /D=$dir",
                "persist -dir @(\"$env:AppData\\draw.io\") @(\"$persist_dir\\draw.io\")",
                "create_app_lnk \"$dir\\draw.io.exe\" \"$scoop_apps_lnk\\draw.io.lnk\"",
                "clean_redundant_files @(\"$dir\\draw.io-$($version)-windows-installer.exe\") 10"
            ]
        },
        "arm64": {
            "url": "https://github.com/jgraph/drawio-desktop/releases/download/v22.1.18/draw.io-ia32-22.1.18-windows-32bit-installer.exe",
            "hash": "b6517ef408446a41db7d3e27bff6157fc393cf02b621476c172b1a8760affb03",
            "pre_install": [
                ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
                "& \"$dir\\draw.io-ia32-$($version)-windows-32bit-installer.exe\" /S /D=$dir",
                "persist -dir @(\"$env:AppData\\draw.io\") @(\"$persist_dir\\draw.io\")",
                "create_app_lnk \"$dir\\draw.io.exe\" \"$scoop_apps_lnk\\draw.io.lnk\"",
                "clean_redundant_files @(\"$dir\\draw.io-$($version)-windows-installer.exe\") 10"
            ]
        }
    },
    "pre_uninstall": [
        "$ErrorActionPreference=\"SilentlyContinue\"",
        "& \"$dir\\Uninstall draw.io.exe\" /S",
        "$bucket=(scoop bucket list | where-Object { $_.Source -match '(gitee|github).com/abgox/abgo_bucket'})[0].Name",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "stop_process",
        "remove_files @(\"$desktop\\draw.io.lnk\",\"$scoop_apps_lnk\\draw.io.lnk\",\"$env:AppData\\draw.io\",\"$env:LocalAppData\\draw.io-updater\")"
    ],
    "checkver": {
        "github": "https://github.com/jgraph/drawio-desktop"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/jgraph/drawio-desktop/releases/download/v$version/draw.io-$version-windows-installer.exe"
            },
            "arm64": {
                "url": "https://github.com/jgraph/drawio-desktop/releases/download/v$version/draw.io-ia32-$version-windows-32bit-installer.exe"
            }
        },
        "hash": {
            "url": "$baseurl/Files-SHA256-Hashes.txt",
            "regex": "$basename\\s*?$sha256"
        }
    }
}
