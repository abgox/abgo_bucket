{
    "version": "0.14.2",
    "description": "下一代知识库，集规划、分类和创建于一体。隐私第一、开源、可定制、随时可用。A next-gen knowledge base that brings planning, sorting and creating all together. Privacy first, open-source, customizable and ready to use.",
    "homepage": "https://affine.pro",
    "license": {
        "identifier": "Unknown",
        "url": "https://github.com/toeverything/AFFiNE/blob/canary/LICENSE"
    },
    "url": "https://github.com/toeverything/AFFiNE/releases/download/v0.14.2/affine-0.14.2-stable-windows-x64.exe#/dl.7z",
    "hash": "sha512:491e4f774edbe3925f22eebc8f126b7f3e97473208d7ea0febf380759a0413889036ab9a78ffc368e9ffee2fd8befdcb3f59c8dfcf00adc9f6436b9893ee32b5",
    "shortcuts": [
        [
            "app\\AFFiNE.exe",
            "AFFiNE"
        ]
    ],
    "pre_install": [
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "$filter=(Get-ChildItem $dir | Where-Object {$_.Name -like \"*.nupkg\" })[0]",
        "Rename-Item $filter.FullName \"affine_installer.zip\" -Force",
        "Expand-Archive \"$dir\\affine_installer.zip\" \"$dir\\temp\"",
        "Copy-Item \"$dir\\temp\\lib\\net45\" \"$dir\\app\" -Recurse -Force",
        "remove_file \"$dir\\temp\"",
        "remove_file \"$dir\\affine_installer.zip\"",
        "persist -dir @(\"$user_AppData\\AFFiNE\") @(\"$persist_dir\\AFFiNE\")",
        "create_app_lnk \"$dir\\app\\AFFiNE.exe\" \"$desktop\\AFFiNE.lnk\""
    ],
    "pre_uninstall": [
        "$bucket=(scoop bucket list | where-Object { $_.Source -match '(gitee|github).com/abgox/abgo_bucket'})[0].Name",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "stop_process",
        "remove_files @(\"$desktop\\AFFiNE.lnk\",\"$user_AppData\\AFFiNE\")"
    ],
    "checkver": {
        "github": "https://github.com/toeverything/AFFiNE"
    },
    "autoupdate": {
        "url": "https://github.com/toeverything/AFFiNE/releases/download/v$version/affine-$version-stable-windows-x64.exe#/dl.7z",
        "hash": {
            "url": "$baseurl/latest.yml",
            "regex": "sha512:\\s+$base64"
        }
    }
}
