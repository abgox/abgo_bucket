{
    "version": "231220",
    "homepage": "https://potplayer.daum.net",
    "description": "Highly customizable media player. 高度可定制的媒体播放器",
    "license": {
        "identifier": "Freeware",
        "url": "https://potplayer.daum.net/publicRelation"
    },
    "architecture": {
        "64bit": {
            "url": "https://t1.daumcdn.net/potplayer/PotPlayer/Version/231220/PotPlayerSetup64.exe#/dl.7z",
            "hash": "ff13317946d58f2461ef7f46b582a4ec1865959242c43d731fdc92d164e3e41d",
            "shortcuts": [
                [
                    "PotPlayer64.exe",
                    "PotPlayer"
                ],
                [
                    "PotPlayerMini64.exe",
                    "PotPlayer Mini"
                ]
            ]
        },
        "32bit": {
            "url": "https://t1.daumcdn.net/potplayer/PotPlayer/Version/231220/PotPlayerSetup.exe#/dl.7z",
            "hash": "acf72eaf5464466adf172d2a0edf31c2f3e20083ca9eaf4a404188180cc8ba3e",
            "shortcuts": [
                [
                    "PotPlayer.exe",
                    "PotPlayer"
                ],
                [
                    "PotPlayerMini.exe",
                    "PotPlayer Mini"
                ]
            ]
        }
    },
    "persist": [
        "Capture",
        "Extension",
        "Extention",
        "IconPack",
        "Logos",
        "Module",
        "Playlist",
        "PxShader",
        "Skins",
        "UrlList"
    ],
    "pre_install": [
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "$config = @(",
        "    '[Settings]'",
        "    'AutoUpdateStart=0'",
        "    'CheckAutoUpdate=0'",
        "    'FastAutoUpdate=0'",
        ")",
        "$data_arr=@()",
        "$persist_arr=@()",
        "foreach ($i in @('PotPlayerMini64.ini', 'PotPlayerMini.ini', 'PotPlayer64.ini', 'PotPlayer.ini')) {",
        "   if (!(Test-Path \"$persist_dir\\$i\")) {",
        "       Set-Content \"$dir\\$i\" $config -Encoding Ascii",
        "   }else{ ",
        "       $data_arr+=\"$dir\\$i\"",
        "       $persist_arr+=\"$persist_dir\\$i\"",
        "   }",
        "}",
        "if($data_arr.Count -gt 0){",
        "   persist -file $data_arr $persist_arr",
        "}"
    ],
    "pre_uninstall": [
        "$_bucket=(scoop bucket list | where-Object {$_.Source -match '(gitee|github).com/abgox/abgo_bucket'})[0].Name",
        ". \"$bucketsdir\\$_bucket\\bin\\utils.ps1\"",
        "stop_process"
    ],
    "checkver": {
        "url": "https://t1.daumcdn.net/potplayer/PotPlayer/v4/Update2/UpdateEng.html",
        "regex": "\\[(\\d+)\\]"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://t1.daumcdn.net/potplayer/PotPlayer/Version/$version/PotPlayerSetup64.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://t1.daumcdn.net/potplayer/PotPlayer/Version/$version/PotPlayerSetup.exe#/dl.7z"
            }
        }
    }
}
