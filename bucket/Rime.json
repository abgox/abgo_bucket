{
    "version": "0.16.2",
    "description": "一个跨平台的开源输入法，Windows 中叫小狼毫。A cross-platform open source input method. It's called weasel on Windows.",
    "homepage": "https://rime.im/",
    "license": {
        "identifier": "GNU General Public License v3.0",
        "url": "https://github.com/rime/weasel/blob/master/LICENSE.txt"
    },
    "url": "https://github.com/rime/weasel/releases/download/0.16.2/weasel-0.16.2.0-installer.exe",
    "hash": "3d10b56cd9825ad0b69ffcaabe4dd7119e2b23fb698ef723001789172ef1447a",
    "pre_install": [
        "$bucket=(scoop bucket list | where-Object { $_.Source -match '(gitee|github).com/abgox/abgo_bucket'})[0].Name",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "$path_installer=\"$dir\\weasel-$($version).0-installer.exe\"",
        "persist_file -dir @(\"$user_AppData\\Rime\") @(\"$persist_dir\\Rime\")",
        "& $path_installer /S /D=$dir",
        "sleep_install \"$dir\\weasel-$($version)\\uninstall.exe\"",
        "do_some_things"
    ],
    "pre_uninstall": [
        "$bucket=(scoop bucket list | where-Object { $_.Source -match '(gitee|github).com/abgox/abgo_bucket'})[0].Name",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "confirm (handle_lang {\"卸载暂停。`n请先切换到其他输入法，然后按下 Enter(回车键) 继续卸载，或者按下其他任意键取消本次卸载。\"} {\"Uninstall paused.`nPlease switch to another input method, and then press Enter to continue or other key to cancel the uninstall.\"})",
        "stop_process $false",
        "remove_files @(\"$user_AppData\\Rime\")",
        "$ui_exe=\"$dir\\weasel-$($version)\\uninstall.exe\"",
        "try{ & $ui_exe /S }catch{}",
        "sleep_uninstall $ui_exe"
    ],
    "checkver": {
        "github": "https://github.com/rime/weasel"
    },
    "autoupdate": {
        "url": "https://github.com/rime/weasel/releases/download/$version/weasel-$version.0-installer.exe"
    }
}
