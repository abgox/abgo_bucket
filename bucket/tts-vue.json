{
    "homepage": "https://github.com/LokerL/tts-vue",
    "version": "1.9.12",
    "description": "ðŸŽ¤ Microsoft speech synthesis tool, built using Electron + Vue + ElementPlus + Vite. ðŸŽ¤ å¾®è½¯è¯­éŸ³åˆæˆå·¥å…·ï¼Œä½¿ç”¨ Electron + Vue + ElementPlus + Vite æž„å»ºã€‚",
    "license": {
        "identifier": "Freeware"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/LokerL/tts-vue/releases/download/1.9.12/tts-vue-windows-latest.zip",
            "hash": "ef0287f1a3c157075dffa2612650449f683fe8a9b996207a1c3789a211210ecb"
        }
    },
    "post_install": [
        "$CmdString = \"$dir\\$version\\tts-vue-$version.exe /S /D=$dir\\$version\"",
        "Invoke-Expression $CmdString",
        "Write-Host \"Persisting config.json\" -f Green",
        "$data_path=\"$env:APPData\\tts-vue\\config.json\"",
        "$persist_path=\"$persist_dir\\config.json\"",
        "",
        "$count=0;$current_bucket_name=foreach($_ in scoop bucket list,$count){if(($count -eq 0) -and ($_.Source -match \"abgox/abgo_bucket\")){echo $_.Name};$count++}",
        "$ps1 = \"$bucketsdir\\$current_bucket_name\\bin\\persist_link.ps1 $data_path $persist_path\"",
        "Invoke-Expression \"$ps1\"",
        "$shortcut_dir=\"$env:Appdata\\Microsoft\\Windows\\Start Menu\\Programs\"",
        "while (-Not (Test-Path \"$shortcut_dir\\tts-vue.lnk\")) {",
        "   Start-Sleep -Milliseconds 500",
        "}",
        "Move-Item \"$shortcut_dir\\tts-vue.lnk\" \"$shortcut_dir\\Scoop Apps\""
    ],
    "pre_uninstall": [
        "$App_name=\"tts-vue\"",
        "$existProcess=Get-Process -Name \"$App_name*\" -ErrorAction SilentlyContinue",
        "foreach($_ in $existProcess.ProcessName){ Write-Host \"Stop-Process  $_\" -f red }",
        "while($true){",
        "   if(Get-Process -Name \"$App_name*\" -ErrorAction SilentlyContinue){",
        "       Stop-Process -Name \"$App_name*\" -Force",
        "   }else { break }",
        "   Start-Sleep -Milliseconds 500",
        "}"
    ],
    "post_uninstall": [
        "$shortcut_link_path = \"$env:APPData\\Microsoft\\Windows\\Start Menu\\Programs\\Scoop Apps\\tts-vue.lnk\"",
        "if (Test-Path $shortcut_link_path){",
        "   echo \"Removing shortcut > $shortcut_link_path\"",
        "   Remove-Item -Force \"$shortcut_link_path\"",
        "}",
        "$data_path=\"$env:APPData\\tts-vue\"",
        "if (Test-Path $data_path){",
        "   Remove-Item -Force -Recurse $data_path",
        "   echo \"Removing $data_path\"",
        "}"
    ],
    "checkver": "github",
    "autoupdate": {
        "note": "Thanks for using autoupdate, please test your updates!",
        "url": "https://github.com/LokerL/tts-vue/releases/download/$version/tts-vue-windows-latest.zip"
    }
}
